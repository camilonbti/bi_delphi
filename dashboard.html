<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background-color: #f0f0f0; color: #333; }
main { max-width: 1200px; margin: 0 auto; background-color: white; padding: 20px; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
h1 { color: #333; text-align: center; }
:root {
    --primary-color: #4e73df;
    --success-color: #1cc88a;
    --warning-color: #f6c23e;
    --danger-color: #e74a3b;
}
.chart-card {
    background: white;
    padding: 1.5rem;
    border-radius: 0.5rem;
    box-shadow: 0 0.15rem 1.75rem rgba(58, 59, 69, 0.15);
    height: 100%;
    transition: transform 0.2s ease;
}
.charts-section {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1.5rem;
    margin-bottom: 1.5rem;
}
.kpis {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1.5rem;
    margin-bottom: 1.5rem;
}
.kpi-card {
    background: white;
    padding: 1.5rem;
    border-radius: 0.5rem;
    box-shadow: 0 0.15rem 1.75rem rgba(58, 59, 69, 0.15);
    text-align: center;
}
.chart-container-father {
    position: relative;
    height: 300px;
    width: 100%;
    overflow: auto;
}
.chart-container {
    position: relative;
    width: 100%;
    height: 100%;
    min-height: 300px;
}
@keyframes chartFadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}
.chart-container canvas {
    animation: chartFadeIn 0.5s ease-out;
}
@media (max-width: 768px) {
    .charts-section { grid-template-columns: 1fr; }
    .chart-container-father { height: 250px; }
    .kpis { grid-template-columns: 1fr; }
}
.table-section {
    background: white;
    border-radius: 0.5rem;
    box-shadow: 0 0.15rem 1.75rem rgba(58, 59, 69, 0.15);
    margin-bottom: 1.5rem;
    overflow: hidden;
}

.table {
    width: 100%;
    margin-bottom: 0;
    font-size: 0.875rem;
}
.table-header {
    padding: 1rem;
    background-color: white;
    border-bottom: 1px solid rgba(0,0,0,0.1);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.table th {
    background-color: var(--primary-color);
    color: white;
    font-weight: 500;
    padding: 0.75rem;
    white-space: nowrap;
    border: none;
    position: sticky;
    top: 0;
    z-index: 1;
}
.table td {
    padding: 1rem 0.75rem;
    vertical-align: middle;
    border-bottom: 1px solid rgba(0,0,0,0.05);
}

.table tbody tr {
    transition: all 0.2s;
}

.table tbody tr:hover {
    background-color: rgba(78, 115, 223, 0.05);
    transform: translateY(-1px);
}
.status-badge {
    padding: 0.35rem 0.75rem;
    border-radius: 50rem;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    white-space: nowrap;
}

.status-concluido {
    background-color: rgba(28, 200, 138, 0.1);
    color: #1cc88a;
}

.status-pendente {
    background-color: rgba(246, 194, 62, 0.1);
    color: #f6c23e;
}

.status-cancelado {
    background-color: rgba(231, 74, 59, 0.1);
    color: #e74a3b;
}
@media (max-width: 768px) {
    .table-container {
        margin: 0 -1rem;
    }
    
    .description-cell {
        max-width: 250px;
    }
}
</style>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
<main role="main">
  <header>
    <h1>Dashboard de Vendas</h1>
  </header>
<div class="charts-section">
  <div class="chart-card">
    <h5>Vendas por Região</h5>
    <div class="chart-container-father">
      <div class="chart-container">
        <canvas id="salesByRegionChart"></canvas>
      </div>
    </div>
  </div>
  <div class="chart-card">
    <h5>Vendas por Loja</h5>
    <div class="chart-container-father">
      <div class="chart-container">
        <canvas id="salesByStoreChart"></canvas>
      </div>
    </div>
  </div>
</div>
<section class="table-section">
  <div class="table-header">
    <h5>Lista de Vendas</h5>
    <button id="exportBtn" class="export-btn">Exportar CSV</button>
  </div>
  <div class="table-responsive">
    <table class="table">
      <thead>
        <tr>
          <th>Data</th>
          <th>Produto</th>
          <th>Loja</th>
          <th>Vendedor</th>
          <th>Valor</th>
        </tr>
      </thead>
      <tbody id="tableBody"></tbody>
    </table>
  </div>
  <nav id="pagination"></nav>
</section>
</main>
<script>
const mockData = 
[
    {
        "ID_SAIDA": 2692490,
        "ID_PEDIDO": 5796655,
        "DATA": "2024-01-01",
        "ID_PRODUTO": 16572,
        "PRODUTO": "LIQUIDIFICADOR WALITA DAILY VERMELHO",
        "ID_LOJA": 16,
        "ID_REGIAO": 28,
        "REGIAO": "REGIONAL 03",
        "LOJA": "C.M.16 - RUY BARBOSA",
        "ID_VENDEDOR": 453,
        "VENDEDOR": "GILMAR GONÇALVES DOS SANTOS",
        "ID_GRUPO": 234,
        "GRUPO": "PORTATEIS",
        "ID_SUBGRUPO": 97,
        "SUBGRUPO": "LIQUIDIFICADORES",
        "ID_MARCA": 101,
        "MARCA": "WALITA",
        "QUANTIDADE": 1,
        "PRECO_VENDA": 299,
        "SUBTOTAL": 299
    },
    {
        "ID_SAIDA": 2692491,
        "ID_PEDIDO": 5796656,
        "DATA": "2024-01-02",
        "ID_PRODUTO": 20285,
        "PRODUTO": "LAVADORA SEMI AUTO COLORMAQ 20KG BRANCO",
        "ID_LOJA": 26,
        "ID_REGIAO": 30,
        "REGIAO": "REGIONAL 04",
        "LOJA": "C.M.26 - FEIRA DE SANTANA II",
        "ID_VENDEDOR": 972,
        "VENDEDOR": "ELISANGELA GOMES GABRIEL",
        "ID_GRUPO": 228,
        "GRUPO": "LINHA BRANCA",
        "ID_SUBGRUPO": 62,
        "SUBGRUPO": "LAVADORAS",
        "ID_MARCA": 81,
        "MARCA": "COLORMAQ",
        "QUANTIDADE": 1,
        "PRECO_VENDA": 799,
        "SUBTOTAL": 799
    },
    {
        "ID_SAIDA": 2692504,
        "ID_PEDIDO": 5796667,
        "DATA": "2024-01-03",
        "ID_PRODUTO": 21053,
        "PRODUTO": "APARADOR DE PELOS MONDIAL BODY GROOM 06",
        "ID_LOJA": 42,
        "ID_REGIAO": 30,
        "REGIAO": "REGIONAL 04",
        "LOJA": "C.M.42 - CAMAÇARI",
        "ID_VENDEDOR": 943,
        "VENDEDOR": "ANDREY NASCIMENTO SILVA",
        "ID_GRUPO": 234,
        "GRUPO": "PORTATEIS",
        "ID_SUBGRUPO": 129,
        "SUBGRUPO": "APARADOR DE PELOS",
        "ID_MARCA": 132,
        "MARCA": "MONDIAL",
        "QUANTIDADE": 1,
        "PRECO_VENDA": 149,
        "SUBTOTAL": 149
    },
    {
        "ID_SAIDA": 2692864,
        "ID_PEDIDO": 5796986,
        "DATA": "2024-01-04",
        "ID_PRODUTO": 21972,
        "PRODUTO": "LAVADORA SEMI AUTO COLORMAQ 15KG BRANCA",
        "ID_LOJA": 10,
        "ID_REGIAO": 27,
        "REGIAO": "REGIONAL 02",
        "LOJA": "C.M.10 - UTINGA",
        "ID_VENDEDOR": 318,
        "VENDEDOR": "DEISY DIAS DE SOUZA",
        "ID_GRUPO": 228,
        "GRUPO": "LINHA BRANCA",
        "ID_SUBGRUPO": 62,
        "SUBGRUPO": "LAVADORAS",
        "ID_MARCA": 81,
        "MARCA": "COLORMAQ",
        "QUANTIDADE": 1,
        "PRECO_VENDA": 699,
        "SUBTOTAL": 699
    }
];

document.addEventListener("DOMContentLoaded", function() {
  const data_salesByRegionChart = processarDados(mockData, "ID_REGIAO", "REGIAO", "SUBTOTAL");
  new Chart(document.getElementById("salesByRegionChart").getContext("2d"), {
    type: "bar",
    data: {
      labels: data_salesByRegionChart.labels,
      datasets: [{
        data: data_salesByRegionChart.values,
        backgroundColor: "rgba(78, 115, 223, 0.6)",
        borderRadius: 4,
        maxBarThickness: 50
      }]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      indexAxis: "x",
      plugins: {
        title: { display: true, text: "Vendas por Região" },
        legend: { display: false }
      }
    }
  });
  const data_salesByStoreChart = processarDados(mockData, "ID_LOJA", "LOJA", "SUBTOTAL");
  new Chart(document.getElementById("salesByStoreChart").getContext("2d"), {
    type: "bar",
    data: {
      labels: data_salesByStoreChart.labels,
      datasets: [{
        data: data_salesByStoreChart.values,
        backgroundColor: "rgba(78, 115, 223, 0.6)",
        borderRadius: 4,
        maxBarThickness: 50
      }]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      indexAxis: "y",
      plugins: {
        title: { display: true, text: "Vendas por Loja" },
        legend: { display: false }
      }
    }
  });
});

</script>
</body>
</html>
